import Foundation
import Capacitor

@objc public class PickContactsOptions: NSObject {
    var fields: [ContactField] = [.birthday, .emailAddresses, .familyName, .givenName, .jobTitle, .middleName, .namePrefix, .nameSuffix, .organizationName, .phoneNumbers, .postalAddresses, .urlAddresses]
    var includeId = true
    var includeGroupIds = false

    init(_ call: CAPPluginCall) {
        if let fields = call.getArray("fields") as? [String] {
            self.fields = fields.compactMap { ContactField(rawValue: $0) }
            self.includeId = fields.contains("id")
            self.includeGroupIds = fields.contains("groupIds")
        }
    }
}
