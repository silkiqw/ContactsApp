package io.capawesome.capacitorjs.plugins.contacts.classes.options;

import androidx.annotation.NonNull;
import com.getcapacitor.JSObject;
import com.getcapacitor.PluginCall;
import io.capawesome.capacitorjs.plugins.contacts.ContactsPlugin;
import io.capawesome.capacitorjs.plugins.contacts.classes.Contact;

public class CreateContactOptions {

    @NonNull
    private final Contact contact;

    public CreateContactOptions(@NonNull PluginCall call) throws Exception {
        this.contact = getContactFromCall(call);
    }

    @NonNull
    public Contact getContact() {
        return contact;
    }

    @NonNull
    private Contact getContactFromCall(@NonNull PluginCall call) throws Exception {
        JSObject contact = call.getObject("contact");
        if (contact == null) {
            throw new Exception(ContactsPlugin.ERROR_CONTACT_MISSING);
        }
        return new Contact(contact);
    }
}
